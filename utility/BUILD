package(default_visibility = ["//visibility:public"])

cc_library(
    name = "utility-cxx",
    srcs = [
        "CalculateInstalledMemory.cpp",
        "Glob.cpp",
        "PrimeNumber.cpp",
        "SqlError.cpp",
        "StringUtil.cpp",
    ],
    hdrs = [
        "Alignment.hpp",
        "BitManipulation.hpp",
        "BitVector.hpp",
        "BloomFilter.hpp",
        "CalculateInstalledMemory.hpp",
        "Cast.hpp",
        "CheckSnprintf.hpp",
        "DAG.hpp",
        "EqualsAnyConstant.hpp",
        "Glob.hpp",
        "HashPair.hpp",
        "Macros.hpp",
        "MemStream.hpp",
        "PrimeNumber.hpp",
        "PtrList.hpp",
        "PtrMap.hpp",
        "PtrVector.hpp",
        "ScopedBuffer.hpp",
        "ScopedDeleter.hpp",
        "ShardedLockManager.hpp",
        "SqlError.hpp",
        "StringUtil.hpp",
        "TemplateUtil.hpp",
        "ThreadSafeQueue.hpp",
        "TreeStringSerializable.hpp",
        "UtilityConfig.h",
        "UtilityModule.hpp",
        "VectorUtil.hpp",
    ],
    copts = [
        "-Iheron/query/src/cpp",
        "-I$(GENDIR)/heron/query",
        "-I$(GENDIR)/third_party",
        "-I.",
    ],
    deps = [
        "//config:config-cxx",
        "//third_party/glog:glog-cxx",
        "//third_party/gperftools:tcmalloc-cxx",
    ],
    linkstatic = 1,
)
